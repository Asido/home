#!/usr/bin/perl -w
# Program, which takes a file as argument and removes all comments from it (lines, starting with '#').

use Timestamp::Simple qw(stamp);
$ts = stamp;
$temp_file = "temp." . $ts;

$file = $ARGV[0];

open($in, "$file");
open($out, '>', "$temp_file");

while($line = <$in>) {
	if($line !~ /^#/) {
		print $out "$line";
	}
}
close($in);
close($out);

$file =~ s/\/.*\/.//;
system("mv $temp_file $file");
