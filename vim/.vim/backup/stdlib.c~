//****************************************************************************
//**
//**    [stdlib.c]
//**    - Standard C General Utilities
//**
//****************************************************************************

static char tbuf[32];
static char bchars[] = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};

char *itoa(int value, char *string, int radix)
{
	int pos = 0;
	int opos = 0;
	int top = 0;

	if (value == 0 || radix > 16) {
		string[0] = '0';
		string[1] = '\0';
		return string;
	}

	while (value != 0) {
		tbuf[pos] = bchars[value % radix];
		pos++;
		value /= radix;
	}
	top = pos--;
	for (opos = 0; opos < top; --pos,++opos) {
		string[opos] = tbuf[pos];
	}
	string[opos] = 0;
	return string;
}

void itoa_s(int i, char* buf, int base) {
   if (base > 16) return;
   if (i < 0) {
      *buf++ = '-';
      i *= -1;
   }
   itoa(i,base,buf);
}
