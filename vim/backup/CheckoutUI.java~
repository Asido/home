package rhinestone.TUI;

import rhinestone.Control.CheckoutController;

import java.util.Scanner;

public class CheckoutUI {
	private CheckoutController controller;
	private Scanner scanner;

	public CheckoutUI(CheckoutController controller) {
		this.controller = controller;
		scanner = new Scanner(System.in);
	}

	public void startMenu() {
		boolean finished = false;
		while(!finished) {
			printMenu();
			int choice = promptChoiceInput();
			switch(choice) {
				case 1:
					controller.addProduct(promptBarcodeInput());
					break;
				case 2:
					controller.checkoutProducts(promptCprInput());
					finished = true;
					break;
				case 3:
					controller.removeProduct(promptBarcodeInput());
					break;
				case 4:
					controller.cancelSale();
					finished = true;
					break;
			}
		}
	}

	private void printMenu() {
		System.out.println(" ----- CHECKOUT MENU ----- ");
		System.out.println("\t(-1-) Scan product");
		System.out.println("\t(-2-) Checkout products");
		System.out.println("\t(-3-) Remove product");
		System.out.println("\t(-4-) Cancel checkout");
	}

	private int promptChoiceInput() {
		System.out.print("Your choice: ");
		int choice = new Scanner(System.in).nextInt();
		return choice;
	}

	private String promptBarcodeInput() {
		System.out.print("Product barcode: ");
		String barcode = new Scanner(System.in).nextLine();
		return barcode;
	}

	private String promptCprInput() {
		System.out.print("Customer CPR: ");
		String cpr = new Scanner(System.in).nextLine();
		return cpr;
	}
}
