#!/bin/bash

if [ $# -lt 1 -o $# -gt 3 ]; then
	echo "Usage: $(basename $0) directory" 1>&2
	exit 1
fi

if [ ! -d "$1" ]; then
	echo "$(basename $0): the argument has to be a directory." 1>&2
	exit 1
fi

if [[ "$2" = "" ]]; then
	max_name=
	max_length=0
else
	max_name="$2"
	max_length=$3
fi

for file in $1/*; do
	file="${file##/*/}"
	length="${#file}"
	if [ $length -gt $max_length ]; then
		max_name="$file"
		max_length=$length
	fi
done
if [[ "$2" = "" ]]; then
	$(basename $0) "${1%/*}" $max_name $max_length
else
	echo "File: $max_name"
	echo "Length: $max_length"
fi
