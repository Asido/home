#ifndef CORE_H57EGKD6
#define CORE_H57EGKD6

class Core {
	public:
		// default constructor
		Core() : midterm(0), final(0) {}
		// build a Core from an istream
		Core(std::istream& is) { read(is); }

		std::string name() const;
		virtual std::istream& read(std::istream&);
		virtual double grade() const;

	protected:
		std::istream& read_common(std::istream&);
		double midterm, final;
		std::vector<double> homework;

	private:
		// accessible only to Core
		std::string n;
};


class Grad : public Core
{
	public:
		// both constructors implicitly use Core::Core() to initialize the base part
		Grad() : thesis(0) {}
		Grad(std::istream& in) { read(is); }

		// these two functions are virtual by inheritance
		double grade() const;
		std::istream& read(std::istream&);

	private:
		double thesis;
}

bool compare(const Core&, const Core&);

#endif /* end of include guard: CORE_H57EGKD6 */
